\documentclass[a4paper]{article}
\usepackage[utf8x]{inputenc}
\usepackage[T1,T2A]{fontenc}
\usepackage[russian]{babel}
\usepackage{hyperref}
\usepackage{indentfirst}
\usepackage{color}
\usepackage{listings}
\usepackage{here}
\usepackage{array}
\usepackage{multirow}
\usepackage{graphicx}
\usepackage{caption}

\lstset{ %
extendedchars=\true,
keepspaces=true,
language=Java,					% choose the language of the code
basicstyle=\footnotesize,		% the size of the fonts that are used for the code
numbers=left,					% where to put the line-numbers
numberstyle=\footnotesize,		% the size of the fonts that are used for the line-numbers
stepnumber=1,					% the step between two line-numbers. If it is 1 each line will be numbered
numbersep=5pt,					% how far the line-numbers are from the code
backgroundcolor=\color{white},	% choose the background color. You must add \usepackage{color}
showspaces=false				% show spaces adding particular underscores
showstringspaces=false,			% underline spaces within strings
showtabs=false,					% show tabs within strings adding particular underscores
frame=single,           		% adds a frame around the code
tabsize=4,						% sets default tabsize to 2 spaces
captionpos=b,					% sets the caption-position to bottom
breaklines=true,				% sets automatic line breaking
breakatwhitespace=false,		% sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)},			% if you want to add a comment within your code
postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}}
}
\begin{document}	% начало документа


\begin{titlepage}	% начало титульной страницы

	\begin{center}		% выравнивание по центру

		\large Санкт-Петербургский Политехнический Университет Петра Великого\\
		\large Институт компьютерных наук и технологий \\
		\large Кафедра компьютерных систем и программных технологий\\[6cm]
		% название института, затем отступ 6см
		
		\huge Программирование\\[0.5cm] % название работы, затем отступ 0,5см
		\large Отчет по курсовой работе\\[0.1cm]
		\large Игра "Побег из гробницы"\\[5cm]

	\end{center}


	\begin{flushright} % выравнивание по правому краю
		\begin{minipage}{0.25\textwidth} % врезка в половину ширины текста
			\begin{flushleft} % выровнять её содержимое по левому краю

				\large\textbf{Работу выполнил:}\\
				\large Бойцов К.С.\\
				\large {Группа:} 23501/4\\
				
				\large \textbf{Преподаватель:}\\
				\large Вылегжанина К.Д.
				

			\end{flushleft}
		\end{minipage}
	\end{flushright}
	
	\vfill % заполнить всё доступное ниже пространство

	\begin{center}
	\large Санкт-Петербург\\
	\large \the\year % вывести дату
	\end{center} % закончить выравнивание по центру

\thispagestyle{empty} % не нумеровать страницу
\end{titlepage} % конец титульной страницы

\vfill % заполнить всё доступное ниже пространство
% Содержание
\tableofcontents
\newpage

\section{Игровое приложение: ''Побег из гробницы''}

Главный герой игры - археолог - оказывается в одном помещении с ожившей мумией, желающей расправиться с незваным гостем.\\



\subsection{Концепция игрового приложения ''Побег из гробницы''}

Приложение являет собой логическую игру, в которой главному герою предстоит добраться до выхода из гробницы.\\

Приложение отрисовывает игровое поле, на которое помещаются два существа. Пользователь может управлять главным героем с помощью нажатия на клавиши-стрелки. Мумией управляет искусственный интеллект, заставляющий её двигаться по направлению к герою. Также на поле размещены преграды, мешающие существам пройти. Игра считается законченой, если пользователь довёл протагониста до выхода и не дал мумии догнать его.\\
Игровое поле составляется вне приложения в текстовом файле.\\

\subsection{Задание}

Разработать приложение под операционные системы Windows 7+ и Android, позволяющее играть в "Побег из гробницы". 

\subsection{Минимально работоспособный продукт}

Приложение, которое предоставляет возможность передвигать главного героя.

\subsection{Вывод}

Пояснён выбор темы курсового проекта. Описана концепция игры ''Побег из гробницы''. Определено задание.

%#######################################################################################################

\section{Проектирование графического приложения, реализующего игру ''Побег из гробницы''}

\subsection{Проектирование библиотеки}

Приложение должно позволять игроку играть в ''Побег из гробницы''\\

Библиотека - ядро приложения. Здесь содержатся основные классы, необ-
ходимые для представления игры. Для создания графического приложения
была выбрана библиотека LibGDX

\section{Реализация игры ''Побег из гробницы''}

\subsection{Среда разработки}

Интегрированная среда разработки IntelliJ IDEA 2016.2.5.\\
Язык: Java 1.8.\\
Система автоматической сборки: Gradle 2.14.

\subsection{Реализация библиотеки}

Классы библиотеки объединены в пакет logic. Основные классы,
выделенные в библиотеке:\\

\begin{enumerate}
\item[1]  Класс Field. Содержит в себе игровое поле. Хранит массив из клеток, имеющих своё состояние.
\item[2]  Класс Cell. Клетка. Составляющая часть поля, доступно три состояния: свободная клетка, заблокированная клетка, выход из гробницы.
\item[3]  Класс Player. Хранит существ и хранит их координаты. Отвечает за их передвижение. 
\end{enumerate}


\subsection{Реализация графического приложения}

Для создания графического приложения была выбрана библиотека Swing.\\


На рисунке 1 представлен вариант игрового поля для игры ''Побег из гробницы'', где 0 - свободная клетка, 1 - преграда, 2 - выход:

\begin{figure}[H]
	\begin{center}
		\includegraphics[scale=0.7]{image/map.png}
		\caption{Вручную созданное поле для игры.} 
		\label{pic:pic_name} % название для ссылок внутри кода
	\end{center}
\end{figure}

На рисунке 2 изображено соответствующая ему графическая интерпретация. Положение главного героя и мумии задано пользователем. На данный момент преграды и выход никак не обозначены, что будет исправлено в скорейшем времени. 

\begin{figure}[H]
	\begin{center}
		\includegraphics[scale=0.7]{image/field1.png}
		\caption{Игровое поле с расположенными на нём игровыми персонажами} 
		\label{pic:pic_name} % название для ссылок внутри кода
	\end{center}
\end{figure}

Игра заканчивается в двух случаях: либо при достижении археологом выхода, либо при его столкновении с мумией.\\

Мумия заблокирована преградой, поэтому игрок может сделать к мумии несколько шагов, не боясь проиграть, как на рисунке 3:

\begin{figure}[H]
	\begin{center}
		\includegraphics[scale=0.7]{image/field2.png}
		\caption{Мумия не может пройти к игроку} 
		\label{pic:pic_name} % название для ссылок внутри кода
	\end{center}
\end{figure}

Победа будет засчитана, когда персонаж доберётся до выхода, как на рисунке 4. В данном случае выход находится в левом нижнем углу поля. 

\begin{figure}[H]
	\begin{center}
		\includegraphics[scale=0.7]{image/field3.png}
		\caption{Игрок добрался до выхода} 
		\label{pic:pic_name} % название для ссылок внутри кода
	\end{center}
\end{figure}

Также игрок может быть пойман мумией, в результате чего он проиграет, как на рисунке 5.

\begin{figure}[H]
	\begin{center}
		\includegraphics[scale=0.7]{image/field4.png}
		\caption{Декорирование главного экрана} 
		\label{pic:pic_name} % название для ссылок внутри кода
	\end{center}
\end{figure}

При обоих исходах будет выведена на экран надпись Game over. Рисунок 6:

\begin{figure}[H]
	\begin{center}
		\includegraphics[scale=0.7]{image/gameover.png}
		\caption{Игра окончена} 
		\label{pic:pic_name} % название для ссылок внутри кода
	\end{center}
\end{figure}

Таким образом разработано графическое приложение, позволяющее играть в ''Побег из гробницы''.\\

\subsection{Вывод}

Для реализации игры определены основные классы библиотеки, графи-
ческого приложения. Разработано графическое приложение, предоставля-
ющее возможность играть одному игроку.\\



\section{Вывод}

В результате работы было разработано игровое приложение ''Побег из гробницы''. Посредством библиотеки Swing было создано приложение, предоставляющее пользователю функциональность
ядра и позволяющее играть в игру ''Побег из гробницы''.



\section{Приложение}



\subsection{Листинги}


\lstinputlisting{../src/logic/Cell.java}

\lstinputlisting{../src/logic/Field.java}

\lstinputlisting{../src/logic/Player.java}

\lstinputlisting{../src/GUI/Sprite.java}

\lstinputlisting{../src/GUI/Game.java}

\lstinputlisting{../src/GUI/KeyInputHandler.java}

\end{document}
